---
import { Image as AstroImage, type ImgAttributes } from 'astro:assets';

interface Props extends ImgAttributes {
    width: string;
    hideShadow?: boolean;
};

const {
    width,
    class: className = '',
    hideShadow = false,
    ...props
} = Astro.props;

const imgProps = {
    width: parseInt(width) * 2,
    style: {
        '--img-width': `${width}px`,
    },
    ...props,
};
---

<AstroImage
    class:list={[
        'inline-block w-full sm:w-(--img-width)',
        {
            'rounded-lg shadow-lg': !hideShadow,
        },
        className,
    ]}
    {...imgProps}
/>